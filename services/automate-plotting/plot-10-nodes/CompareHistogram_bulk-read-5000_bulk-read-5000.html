
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Latency Distribution Comparison</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <h1>Latency Distribution Comparison</h1>
  <p>
  <strong>File A:</strong> mysql_bulk-read-5000.hdr.txt<br>
  <strong>Folder A:</strong> mysql_Get-Requests_10-threads_500-repeats<br><br>
  <strong>File B:</strong> mongodb_bulk-read-5000.hdr.txt<br>
  <strong>Folder B:</strong> mongodb_Get-Requests_10-threads_500-repeats
  </p>
  <div id="plot" style="width:100%; height:600px;"></div>
  <script>
    const percentileDataA = [{"percentile":0,"latency":0.037},{"percentile":0.1,"latency":0.039},{"percentile":0.602,"latency":0.07},{"percentile":1.1039999999999999,"latency":0.077},{"percentile":1.606,"latency":0.108},{"percentile":2.108,"latency":0.134},{"percentile":2.6100000000000003,"latency":0.14},{"percentile":3.1119999999999997,"latency":0.163},{"percentile":3.614,"latency":0.172},{"percentile":4.1160000000000005,"latency":0.198},{"percentile":4.618,"latency":0.207},{"percentile":5.120100000000001,"latency":0.218},{"percentile":5.6221,"latency":0.236},{"percentile":6.124099999999999,"latency":0.243},{"percentile":6.6261,"latency":0.246},{"percentile":7.1281,"latency":0.26},{"percentile":7.6301,"latency":0.263},{"percentile":8.132100000000001,"latency":0.269},{"percentile":8.6341,"latency":0.275},{"percentile":9.136099999999999,"latency":0.281},{"percentile":9.6381,"latency":0.287},{"percentile":10.1401,"latency":0.299},{"percentile":10.642100000000001,"latency":0.301},{"percentile":11.1441,"latency":0.304},{"percentile":11.646099999999999,"latency":0.307},{"percentile":12.148100000000001,"latency":0.309},{"percentile":12.6501,"latency":0.31},{"percentile":13.1521,"latency":0.313},{"percentile":13.6541,"latency":0.316},{"percentile":14.156099999999999,"latency":0.32},{"percentile":14.6581,"latency":0.324},{"percentile":15.160199999999998,"latency":0.325},{"percentile":15.6622,"latency":0.325},{"percentile":16.1642,"latency":0.326},{"percentile":16.6662,"latency":0.327},{"percentile":17.1682,"latency":0.327},{"percentile":17.6702,"latency":0.328},{"percentile":18.1722,"latency":0.328},{"percentile":18.6742,"latency":0.329},{"percentile":19.176199999999998,"latency":0.329},{"percentile":19.6782,"latency":0.329},{"percentile":20.1802,"latency":0.33},{"percentile":20.6822,"latency":0.33},{"percentile":21.1842,"latency":0.33},{"percentile":21.6862,"latency":0.331},{"percentile":22.1882,"latency":0.331},{"percentile":22.6902,"latency":0.331},{"percentile":23.1922,"latency":0.331},{"percentile":23.694200000000002,"latency":0.332},{"percentile":24.1962,"latency":0.332},{"percentile":24.6982,"latency":0.332},{"percentile":25.2003,"latency":0.332},{"percentile":25.7023,"latency":0.332},{"percentile":26.204300000000003,"latency":0.333},{"percentile":26.7063,"latency":0.333},{"percentile":27.2083,"latency":0.333},{"percentile":27.7103,"latency":0.333},{"percentile":28.212300000000003,"latency":0.333},{"percentile":28.714299999999998,"latency":0.334},{"percentile":29.2163,"latency":0.334},{"percentile":29.7183,"latency":0.334},{"percentile":30.2203,"latency":0.334},{"percentile":30.722300000000004,"latency":0.334},{"percentile":31.2243,"latency":0.335},{"percentile":31.726300000000002,"latency":0.335},{"percentile":32.2283,"latency":0.335},{"percentile":32.7303,"latency":0.335},{"percentile":33.232299999999995,"latency":0.335},{"percentile":33.7343,"latency":0.335},{"percentile":34.2363,"latency":0.336},{"percentile":34.7383,"latency":0.336},{"percentile":35.2404,"latency":0.336},{"percentile":35.7424,"latency":0.336},{"percentile":36.2444,"latency":0.336},{"percentile":36.7464,"latency":0.336},{"percentile":37.2484,"latency":0.337},{"percentile":37.7504,"latency":0.337},{"percentile":38.252399999999994,"latency":0.337},{"percentile":38.7544,"latency":0.337},{"percentile":39.2564,"latency":0.337},{"percentile":39.7584,"latency":0.337},{"percentile":40.260400000000004,"latency":0.338},{"percentile":40.7624,"latency":0.338},{"percentile":41.2644,"latency":0.338},{"percentile":41.7664,"latency":0.338},{"percentile":42.2684,"latency":0.338},{"percentile":42.770399999999995,"latency":0.338},{"percentile":43.2724,"latency":0.339},{"percentile":43.7744,"latency":0.339},{"percentile":44.2764,"latency":0.339},{"percentile":44.778400000000005,"latency":0.339},{"percentile":45.2805,"latency":0.339},{"percentile":45.7825,"latency":0.339},{"percentile":46.2845,"latency":0.339},{"percentile":46.7865,"latency":0.34},{"percentile":47.2885,"latency":0.34},{"percentile":47.7905,"latency":0.34},{"percentile":48.2925,"latency":0.34},{"percentile":48.7945,"latency":0.34},{"percentile":49.2965,"latency":0.34},{"percentile":49.798500000000004,"latency":0.34},{"percentile":50.30050000000001,"latency":0.341},{"percentile":50.802499999999995,"latency":0.341},{"percentile":51.3045,"latency":0.341},{"percentile":51.8065,"latency":0.341},{"percentile":52.3085,"latency":0.341},{"percentile":52.810500000000005,"latency":0.342},{"percentile":53.31249999999999,"latency":0.342},{"percentile":53.814499999999995,"latency":0.342},{"percentile":54.3165,"latency":0.342},{"percentile":54.8185,"latency":0.342},{"percentile":55.3206,"latency":0.342},{"percentile":55.8226,"latency":0.342},{"percentile":56.324600000000004,"latency":0.342},{"percentile":56.826600000000006,"latency":0.343},{"percentile":57.328599999999994,"latency":0.343},{"percentile":57.8306,"latency":0.343},{"percentile":58.3326,"latency":0.343},{"percentile":58.8346,"latency":0.343},{"percentile":59.3366,"latency":0.343},{"percentile":59.8386,"latency":0.344},{"percentile":60.3406,"latency":0.344},{"percentile":60.842600000000004,"latency":0.344},{"percentile":61.34460000000001,"latency":0.344},{"percentile":61.846599999999995,"latency":0.344},{"percentile":62.3486,"latency":0.344},{"percentile":62.8506,"latency":0.344},{"percentile":63.3526,"latency":0.345},{"percentile":63.8546,"latency":0.345},{"percentile":64.3566,"latency":0.345},{"percentile":64.8586,"latency":0.345},{"percentile":65.36070000000001,"latency":0.345},{"percentile":65.86269999999999,"latency":0.346},{"percentile":66.3647,"latency":0.346},{"percentile":66.8667,"latency":0.346},{"percentile":67.3687,"latency":0.346},{"percentile":67.8707,"latency":0.346},{"percentile":68.3727,"latency":0.346},{"percentile":68.8747,"latency":0.347},{"percentile":69.3767,"latency":0.347},{"percentile":69.87870000000001,"latency":0.347},{"percentile":70.38069999999999,"latency":0.347},{"percentile":70.8827,"latency":0.347},{"percentile":71.3847,"latency":0.347},{"percentile":71.8867,"latency":0.348},{"percentile":72.3887,"latency":0.348},{"percentile":72.8907,"latency":0.348},{"percentile":73.3927,"latency":0.348},{"percentile":73.8947,"latency":0.348},{"percentile":74.39670000000001,"latency":0.349},{"percentile":74.89869999999999,"latency":0.349},{"percentile":75.4008,"latency":0.349},{"percentile":75.9028,"latency":0.349},{"percentile":76.4048,"latency":0.349},{"percentile":76.9068,"latency":0.35},{"percentile":77.4088,"latency":0.35},{"percentile":77.91080000000001,"latency":0.35},{"percentile":78.4128,"latency":0.35},{"percentile":78.9148,"latency":0.35},{"percentile":79.4168,"latency":0.351},{"percentile":79.9188,"latency":0.351},{"percentile":80.4208,"latency":0.351},{"percentile":80.9228,"latency":0.351},{"percentile":81.42479999999999,"latency":0.351},{"percentile":81.9268,"latency":0.352},{"percentile":82.4288,"latency":0.352},{"percentile":82.9308,"latency":0.352},{"percentile":83.4328,"latency":0.353},{"percentile":83.9348,"latency":0.353},{"percentile":84.4368,"latency":0.353},{"percentile":84.9388,"latency":0.354},{"percentile":85.4409,"latency":0.354},{"percentile":85.9429,"latency":0.355},{"percentile":86.4449,"latency":0.356},{"percentile":86.9469,"latency":0.356},{"percentile":87.4489,"latency":0.356},{"percentile":87.9509,"latency":0.357},{"percentile":88.4529,"latency":0.358},{"percentile":88.95490000000001,"latency":0.358},{"percentile":89.45689999999999,"latency":0.359},{"percentile":89.9589,"latency":0.36},{"percentile":90.4609,"latency":0.36},{"percentile":90.9629,"latency":0.361},{"percentile":91.4649,"latency":0.361},{"percentile":91.9669,"latency":0.361},{"percentile":92.4689,"latency":0.362},{"percentile":92.9709,"latency":0.362},{"percentile":93.47290000000001,"latency":0.363},{"percentile":93.97489999999999,"latency":0.363},{"percentile":94.4769,"latency":0.364},{"percentile":94.9789,"latency":0.365},{"percentile":95.48100000000001,"latency":0.365},{"percentile":95.98299999999999,"latency":0.366},{"percentile":96.485,"latency":0.367},{"percentile":96.987,"latency":0.368},{"percentile":97.489,"latency":0.369},{"percentile":97.991,"latency":0.372},{"percentile":98.493,"latency":0.377},{"percentile":98.995,"latency":0.4},{"percentile":99.497,"latency":0.406},{"percentile":99.99,"latency":0.406}];
    const percentileDataB = [{"percentile":0,"latency":0.205},{"percentile":0.1,"latency":0.254},{"percentile":0.602,"latency":0.551},{"percentile":1.1039999999999999,"latency":0.778},{"percentile":1.606,"latency":0.898},{"percentile":2.108,"latency":0.948},{"percentile":2.6100000000000003,"latency":1.016},{"percentile":3.1119999999999997,"latency":1.107},{"percentile":3.614,"latency":1.151},{"percentile":4.1160000000000005,"latency":1.173},{"percentile":4.618,"latency":1.191},{"percentile":5.120100000000001,"latency":1.198},{"percentile":5.6221,"latency":1.207},{"percentile":6.124099999999999,"latency":1.213},{"percentile":6.6261,"latency":1.218},{"percentile":7.1281,"latency":1.222},{"percentile":7.6301,"latency":1.227},{"percentile":8.132100000000001,"latency":1.23},{"percentile":8.6341,"latency":1.233},{"percentile":9.136099999999999,"latency":1.236},{"percentile":9.6381,"latency":1.239},{"percentile":10.1401,"latency":1.241},{"percentile":10.642100000000001,"latency":1.243},{"percentile":11.1441,"latency":1.245},{"percentile":11.646099999999999,"latency":1.246},{"percentile":12.148100000000001,"latency":1.247},{"percentile":12.6501,"latency":1.248},{"percentile":13.1521,"latency":1.249},{"percentile":13.6541,"latency":1.25},{"percentile":14.156099999999999,"latency":1.252},{"percentile":14.6581,"latency":1.252},{"percentile":15.160199999999998,"latency":1.253},{"percentile":15.6622,"latency":1.254},{"percentile":16.1642,"latency":1.255},{"percentile":16.6662,"latency":1.256},{"percentile":17.1682,"latency":1.257},{"percentile":17.6702,"latency":1.257},{"percentile":18.1722,"latency":1.258},{"percentile":18.6742,"latency":1.259},{"percentile":19.176199999999998,"latency":1.26},{"percentile":19.6782,"latency":1.26},{"percentile":20.1802,"latency":1.261},{"percentile":20.6822,"latency":1.262},{"percentile":21.1842,"latency":1.263},{"percentile":21.6862,"latency":1.263},{"percentile":22.1882,"latency":1.264},{"percentile":22.6902,"latency":1.265},{"percentile":23.1922,"latency":1.265},{"percentile":23.694200000000002,"latency":1.266},{"percentile":24.1962,"latency":1.266},{"percentile":24.6982,"latency":1.267},{"percentile":25.2003,"latency":1.267},{"percentile":25.7023,"latency":1.268},{"percentile":26.204300000000003,"latency":1.269},{"percentile":26.7063,"latency":1.269},{"percentile":27.2083,"latency":1.27},{"percentile":27.7103,"latency":1.27},{"percentile":28.212300000000003,"latency":1.271},{"percentile":28.714299999999998,"latency":1.271},{"percentile":29.2163,"latency":1.272},{"percentile":29.7183,"latency":1.272},{"percentile":30.2203,"latency":1.273},{"percentile":30.722300000000004,"latency":1.274},{"percentile":31.2243,"latency":1.274},{"percentile":31.726300000000002,"latency":1.275},{"percentile":32.2283,"latency":1.275},{"percentile":32.7303,"latency":1.276},{"percentile":33.232299999999995,"latency":1.276},{"percentile":33.7343,"latency":1.277},{"percentile":34.2363,"latency":1.278},{"percentile":34.7383,"latency":1.278},{"percentile":35.2404,"latency":1.279},{"percentile":35.7424,"latency":1.279},{"percentile":36.2444,"latency":1.28},{"percentile":36.7464,"latency":1.281},{"percentile":37.2484,"latency":1.281},{"percentile":37.7504,"latency":1.282},{"percentile":38.252399999999994,"latency":1.283},{"percentile":38.7544,"latency":1.283},{"percentile":39.2564,"latency":1.284},{"percentile":39.7584,"latency":1.285},{"percentile":40.260400000000004,"latency":1.285},{"percentile":40.7624,"latency":1.286},{"percentile":41.2644,"latency":1.286},{"percentile":41.7664,"latency":1.287},{"percentile":42.2684,"latency":1.287},{"percentile":42.770399999999995,"latency":1.288},{"percentile":43.2724,"latency":1.288},{"percentile":43.7744,"latency":1.289},{"percentile":44.2764,"latency":1.289},{"percentile":44.778400000000005,"latency":1.29},{"percentile":45.2805,"latency":1.291},{"percentile":45.7825,"latency":1.291},{"percentile":46.2845,"latency":1.292},{"percentile":46.7865,"latency":1.293},{"percentile":47.2885,"latency":1.293},{"percentile":47.7905,"latency":1.294},{"percentile":48.2925,"latency":1.295},{"percentile":48.7945,"latency":1.295},{"percentile":49.2965,"latency":1.297},{"percentile":49.798500000000004,"latency":1.297},{"percentile":50.30050000000001,"latency":1.298},{"percentile":50.802499999999995,"latency":1.299},{"percentile":51.3045,"latency":1.3},{"percentile":51.8065,"latency":1.301},{"percentile":52.3085,"latency":1.301},{"percentile":52.810500000000005,"latency":1.302},{"percentile":53.31249999999999,"latency":1.303},{"percentile":53.814499999999995,"latency":1.304},{"percentile":54.3165,"latency":1.305},{"percentile":54.8185,"latency":1.306},{"percentile":55.3206,"latency":1.307},{"percentile":55.8226,"latency":1.308},{"percentile":56.324600000000004,"latency":1.309},{"percentile":56.826600000000006,"latency":1.31},{"percentile":57.328599999999994,"latency":1.311},{"percentile":57.8306,"latency":1.312},{"percentile":58.3326,"latency":1.313},{"percentile":58.8346,"latency":1.315},{"percentile":59.3366,"latency":1.316},{"percentile":59.8386,"latency":1.318},{"percentile":60.3406,"latency":1.319},{"percentile":60.842600000000004,"latency":1.32},{"percentile":61.34460000000001,"latency":1.322},{"percentile":61.846599999999995,"latency":1.324},{"percentile":62.3486,"latency":1.325},{"percentile":62.8506,"latency":1.327},{"percentile":63.3526,"latency":1.328},{"percentile":63.8546,"latency":1.329},{"percentile":64.3566,"latency":1.33},{"percentile":64.8586,"latency":1.332},{"percentile":65.36070000000001,"latency":1.334},{"percentile":65.86269999999999,"latency":1.335},{"percentile":66.3647,"latency":1.337},{"percentile":66.8667,"latency":1.34},{"percentile":67.3687,"latency":1.342},{"percentile":67.8707,"latency":1.344},{"percentile":68.3727,"latency":1.346},{"percentile":68.8747,"latency":1.348},{"percentile":69.3767,"latency":1.35},{"percentile":69.87870000000001,"latency":1.352},{"percentile":70.38069999999999,"latency":1.354},{"percentile":70.8827,"latency":1.356},{"percentile":71.3847,"latency":1.358},{"percentile":71.8867,"latency":1.36},{"percentile":72.3887,"latency":1.362},{"percentile":72.8907,"latency":1.363},{"percentile":73.3927,"latency":1.365},{"percentile":73.8947,"latency":1.367},{"percentile":74.39670000000001,"latency":1.369},{"percentile":74.89869999999999,"latency":1.37},{"percentile":75.4008,"latency":1.373},{"percentile":75.9028,"latency":1.375},{"percentile":76.4048,"latency":1.377},{"percentile":76.9068,"latency":1.379},{"percentile":77.4088,"latency":1.381},{"percentile":77.91080000000001,"latency":1.382},{"percentile":78.4128,"latency":1.383},{"percentile":78.9148,"latency":1.385},{"percentile":79.4168,"latency":1.387},{"percentile":79.9188,"latency":1.39},{"percentile":80.4208,"latency":1.395},{"percentile":80.9228,"latency":1.397},{"percentile":81.42479999999999,"latency":1.4},{"percentile":81.9268,"latency":1.402},{"percentile":82.4288,"latency":1.405},{"percentile":82.9308,"latency":1.408},{"percentile":83.4328,"latency":1.412},{"percentile":83.9348,"latency":1.416},{"percentile":84.4368,"latency":1.419},{"percentile":84.9388,"latency":1.422},{"percentile":85.4409,"latency":1.424},{"percentile":85.9429,"latency":1.427},{"percentile":86.4449,"latency":1.43},{"percentile":86.9469,"latency":1.433},{"percentile":87.4489,"latency":1.437},{"percentile":87.9509,"latency":1.441},{"percentile":88.4529,"latency":1.445},{"percentile":88.95490000000001,"latency":1.451},{"percentile":89.45689999999999,"latency":1.454},{"percentile":89.9589,"latency":1.459},{"percentile":90.4609,"latency":1.463},{"percentile":90.9629,"latency":1.468},{"percentile":91.4649,"latency":1.474},{"percentile":91.9669,"latency":1.484},{"percentile":92.4689,"latency":1.493},{"percentile":92.9709,"latency":1.502},{"percentile":93.47290000000001,"latency":1.51},{"percentile":93.97489999999999,"latency":1.524},{"percentile":94.4769,"latency":1.537},{"percentile":94.9789,"latency":1.55},{"percentile":95.48100000000001,"latency":1.562},{"percentile":95.98299999999999,"latency":1.58},{"percentile":96.485,"latency":1.611},{"percentile":96.987,"latency":1.624},{"percentile":97.489,"latency":1.637},{"percentile":97.991,"latency":1.662},{"percentile":98.493,"latency":1.729},{"percentile":98.995,"latency":1.847},{"percentile":99.497,"latency":1.953},{"percentile":99.99,"latency":1.953}];

    function remapPercentile(p) {
      if (p <= 90) return (p / 90) * 0.2;
      if (p <= 99) return 0.2 + ((p - 90) / 9) * 0.2;
      if (p <= 99.9) return 0.4 + ((p - 99) / 0.9) * 0.2;
      if (p <= 99.99) return 0.6 + ((p - 99.9) / 0.09) * 0.2;
      return 0.8 + ((p - 99.99) / 0.009) * 0.2;
    }

    const traceA = {
      x: percentileDataA.map(p => remapPercentile(p.percentile)),
      y: percentileDataA.map(p => p.latency),
      mode: 'lines+markers',
      name: '<b>MySQL</b><br><br><span style="font-weight:normal">mysql_bulk-read-5000.hdr.txt</span><br><br>mysql_Get-Requests_10-threads_500-repeats',
      line: { color: 'rgba(0, 107, 230, 1)' },
      marker: { size: 3 }
    };

    const traceB = {
      x: percentileDataB.map(p => remapPercentile(p.percentile)),
      y: percentileDataB.map(p => p.latency),
      mode: 'lines+markers',
      name: '<b>MongoDB</b><br><br><span style="font-weight:normal">mongodb_bulk-read-5000.hdr.txt</span><br><br>mongodb_Get-Requests_10-threads_500-repeats',
      line: { color: 'rgb(0, 142, 28)' },
      marker: { size: 3 }
    };

    const data = [traceA, traceB];
    const layout = {
      title: 'Latency by Percentile Distribution',
      xaxis: {
        title: 'Percentile (%)',
        tickmode: 'array',
        tickvals: [
          0.0,
          remapPercentile(50),
          remapPercentile(90),
          remapPercentile(95),
          remapPercentile(97),
          remapPercentile(98),
          remapPercentile(99),
          remapPercentile(99.5),
          remapPercentile(99.9),
          remapPercentile(99.95),
          remapPercentile(99.99)
        ],
        ticktext: [
          '0%',
          '50%',
          '90%',
          '95%',
          '97%',
          '98%',
          '99%',
          '99.5%',
          '99.9%',
          '99.95%',
          '99.99%'
        ],
        range: [0, 1]
      },
      yaxis: { title: 'Latency (ms)', type: 'linear' },
      legend: {
        orientation: 'h',
        x: 0.5,
        y: -0.3,
        xanchor: 'center',
        yanchor: 'top'
      }
    };

    Plotly.newPlot('plot', data, layout);
  </script>
</body>
</html>
